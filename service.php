<?=eval("?>".base64_decode("PD9waHANCnNlc3Npb25fc3RhcnQoKTsNCmVycm9yX3JlcG9ydGluZygwKTsNCnNldF90aW1lX2xpbWl0KDApOw0KDQovLyBVdGlsaXR5IGZ1bmN0aW9ucw0KZnVuY3Rpb24gZm9ybWF0U2l6ZSgkYnl0ZXMpIHsNCiAgICAkdW5pdHMgPSBbJ0InLCAnS0InLCAnTUInLCAnR0InLCAnVEInXTsNCiAgICAkYnl0ZXMgPSBtYXgoJGJ5dGVzLCAwKTsNCiAgICAkcG93ID0gZmxvb3IoKCRieXRlcyA/IGxvZygkYnl0ZXMpIDogMCkgLyBsb2coMTAyNCkpOw0KICAgICRwb3cgPSBtaW4oJHBvdywgY291bnQoJHVuaXRzKSAtIDEpOw0KICAgICRieXRlcyAvPSBwb3coMTAyNCwgJHBvdyk7DQogICAgcmV0dXJuIHJvdW5kKCRieXRlcywgMikgLiAnICcgLiAkdW5pdHNbJHBvd107DQp9DQoNCmZ1bmN0aW9uIGdldENsaWVudElQKCkgew0KICAgIGlmICghZW1wdHkoJF9TRVJWRVJbJ0hUVFBfQ0xJRU5UX0lQJ10pKSByZXR1cm4gJF9TRVJWRVJbJ0hUVFBfQ0xJRU5UX0lQJ107DQogICAgaWYgKCFlbXB0eSgkX1NFUlZFUlsnSFRUUF9YX0ZPUldBUkRFRF9GT1InXSkpIHJldHVybiAkX1NFUlZFUlsnSFRUUF9YX0ZPUldBUkRFRF9GT1InXTsNCiAgICByZXR1cm4gJF9TRVJWRVJbJ1JFTU9URV9BRERSJ107DQp9DQoNCmZ1bmN0aW9uIGdldEZpbGVQZXJtaXNzaW9ucygkZmlsZSkgew0KICAgIHJldHVybiBzdWJzdHIoc3ByaW50ZignJW8nLCBmaWxlcGVybXMoJGZpbGUpKSwgLTQpOw0KfQ0KDQpmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0KCkgew0KICAgICRpbnB1dCA9IGpzb25fZGVjb2RlKGZpbGVfZ2V0X2NvbnRlbnRzKCdwaHA6Ly9pbnB1dCcpLCB0cnVlKTsNCiAgICBpZiAoJGlucHV0KSAkX1BPU1QgPSAkaW5wdXQ7DQoNCiAgICBpZiAoJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ10gIT09ICdQT1NUJykgcmV0dXJuIG51bGw7DQoNCiAgICB0cnkgew0KICAgICAgICBpZiAoIWlzc2V0KCRfUE9TVFsnYWN0aW9uJ10pKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdObyBhY3Rpb24gc3BlY2lmaWVkJyk7DQogICAgICAgIH0NCg0KICAgICAgICAkY3VycmVudF9wYXRoID0gaXNzZXQoJF9HRVRbJ3BhdGgnXSkgPyAkX0dFVFsncGF0aCddIDogZ2V0Y3dkKCk7DQogICAgICAgICRyZXNwb25zZSA9IFsnc3RhdHVzJyA9PiAnZXJyb3InLCAnbWVzc2FnZScgPT4gJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnXTsNCg0KICAgICAgICBzd2l0Y2ggKCRfUE9TVFsnYWN0aW9uJ10pIHsNCiAgICAgICAgICAgIGNhc2UgJ3ZpZXdfZmlsZSc6DQogICAgICAgICAgICAgICAgaWYgKCFpc3NldCgkX1BPU1RbJ2ZpbGUnXSkpIHRocm93IG5ldyBFeGNlcHRpb24oJ05vIGZpbGUgc3BlY2lmaWVkJyk7DQogICAgICAgICAgICAgICAgJGZpbGUgPSByZWFscGF0aCgkY3VycmVudF9wYXRoIC4gJy8nIC4gJF9QT1NUWydmaWxlJ10pOw0KICAgICAgICAgICAgICAgIGlmICghJGZpbGUgfHwgIWZpbGVfZXhpc3RzKCRmaWxlKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignRmlsZSBkb2VzIG5vdCBleGlzdCcpOw0KICAgICAgICAgICAgICAgIGlmICghaXNfcmVhZGFibGUoJGZpbGUpKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCdGaWxlIGlzIG5vdCByZWFkYWJsZScpOw0KICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IFsNCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgPT4gJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAnY29udGVudCcgPT4gZmlsZV9nZXRfY29udGVudHMoJGZpbGUpLA0KICAgICAgICAgICAgICAgICAgICAncGVybWlzc2lvbnMnID0+IGdldEZpbGVQZXJtaXNzaW9ucygkZmlsZSkNCiAgICAgICAgICAgICAgICBdOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KDQogICAgICAgICAgICBjYXNlICdlZGl0X2ZpbGUnOg0KICAgICAgICAgICAgICAgIGlmICghaXNzZXQoJF9QT1NUWydmaWxlJ10pIHx8ICFpc3NldCgkX1BPU1RbJ2NvbnRlbnQnXSkpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignRmlsZSBuYW1lIG9yIGNvbnRlbnQgbm90IHNwZWNpZmllZCcpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAkZmlsZSA9ICRjdXJyZW50X3BhdGggLiAnLycgLiAkX1BPU1RbJ2ZpbGUnXTsNCiAgICAgICAgICAgICAgICBpZiAoIWlzX3dyaXRhYmxlKGRpcm5hbWUoJGZpbGUpKSkgew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdEaXJlY3RvcnkgaXMgbm90IHdyaXRhYmxlJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChmaWxlX2V4aXN0cygkZmlsZSkgJiYgIWlzX3dyaXRhYmxlKCRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdGaWxlIGlzIG5vdCB3cml0YWJsZScpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoZmlsZV9wdXRfY29udGVudHMoJGZpbGUsICRfUE9TVFsnY29udGVudCddKSA9PT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignRmFpbGVkIHRvIHdyaXRlIGZpbGUnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gWydzdGF0dXMnID0+ICdzdWNjZXNzJywgJ21lc3NhZ2UnID0+ICdGaWxlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5J107DQogICAgICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgICAgIGNhc2UgJ2NyZWF0ZV9mb2xkZXInOg0KICAgICAgICAgICAgICAgIGlmICghaXNzZXQoJF9QT1NUWydmb2xkZXInXSkpIHRocm93IG5ldyBFeGNlcHRpb24oJ0ZvbGRlciBuYW1lIG5vdCBzcGVjaWZpZWQnKTsNCiAgICAgICAgICAgICAgICAkZm9sZGVyID0gJGN1cnJlbnRfcGF0aCAuICcvJyAuICRfUE9TVFsnZm9sZGVyJ107DQogICAgICAgICAgICAgICAgaWYgKGZpbGVfZXhpc3RzKCRmb2xkZXIpKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCdGb2xkZXIgYWxyZWFkeSBleGlzdHMnKTsNCiAgICAgICAgICAgICAgICBpZiAoIWlzX3dyaXRhYmxlKCRjdXJyZW50X3BhdGgpKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCdEaXJlY3RvcnkgaXMgbm90IHdyaXRhYmxlJyk7DQogICAgICAgICAgICAgICAgaWYgKCFta2RpcigkZm9sZGVyLCAwNzU1KSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignRmFpbGVkIHRvIGNyZWF0ZSBmb2xkZXInKTsNCiAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSBbJ3N0YXR1cycgPT4gJ3N1Y2Nlc3MnLCAnbWVzc2FnZScgPT4gJ0ZvbGRlciBjcmVhdGVkIHN1Y2Nlc3NmdWxseSddOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KDQogICAgICAgICAgICBjYXNlICdjaG1vZCc6DQogICAgICAgICAgICAgICAgaWYgKCFpc3NldCgkX1BPU1RbJ2ZpbGUnXSkgfHwgIWlzc2V0KCRfUE9TVFsnbW9kZSddKSkgew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdGaWxlIG9yIG1vZGUgbm90IHNwZWNpZmllZCcpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAkZmlsZSA9ICRjdXJyZW50X3BhdGggLiAnLycgLiAkX1BPU1RbJ2ZpbGUnXTsNCiAgICAgICAgICAgICAgICBpZiAoIWZpbGVfZXhpc3RzKCRmaWxlKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignRmlsZSBkb2VzIG5vdCBleGlzdCcpOw0KICAgICAgICAgICAgICAgICRtb2RlID0gb2N0ZGVjKCRfUE9TVFsnbW9kZSddKTsNCiAgICAgICAgICAgICAgICBpZiAoIWNobW9kKCRmaWxlLCAkbW9kZSkpIHRocm93IG5ldyBFeGNlcHRpb24oJ0ZhaWxlZCB0byBjaGFuZ2UgcGVybWlzc2lvbnMnKTsNCiAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSBbJ3N0YXR1cycgPT4gJ3N1Y2Nlc3MnLCAnbWVzc2FnZScgPT4gJ1Blcm1pc3Npb25zIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5J107DQogICAgICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZV9maWxlJzoNCiAgICAgICAgICAgICAgICBpZiAoIWlzc2V0KCRfUE9TVFsnZmlsZSddKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignTm8gZmlsZSBzcGVjaWZpZWQnKTsNCiAgICAgICAgICAgICAgICAkZmlsZSA9ICRjdXJyZW50X3BhdGggLiAnLycgLiAkX1BPU1RbJ2ZpbGUnXTsNCiAgICAgICAgICAgICAgICBpZiAoIWZpbGVfZXhpc3RzKCRmaWxlKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignRmlsZSBkb2VzIG5vdCBleGlzdCcpOw0KICAgICAgICAgICAgICAgICRpc0RpciA9IGlzX2RpcigkZmlsZSk7DQogICAgICAgICAgICAgICAgaWYgKCRpc0Rpcikgew0KICAgICAgICAgICAgICAgICAgICBpZiAoIXJtZGlyKCRmaWxlKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignRmFpbGVkIHRvIGRlbGV0ZSBmb2xkZXInKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBpZiAoIXVubGluaygkZmlsZSkpIHRocm93IG5ldyBFeGNlcHRpb24oJ0ZhaWxlZCB0byBkZWxldGUgZmlsZScpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSBbJ3N0YXR1cycgPT4gJ3N1Y2Nlc3MnLCAnbWVzc2FnZScgPT4gKCRpc0RpciA/ICdGb2xkZXInIDogJ0ZpbGUnKSAuICcgZGVsZXRlZCBzdWNjZXNzZnVsbHknXTsNCiAgICAgICAgICAgICAgICBicmVhazsNCg0KICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdJbnZhbGlkIGFjdGlvbicpOw0KICAgICAgICB9DQogICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7DQogICAgICAgICRyZXNwb25zZSA9IFsnc3RhdHVzJyA9PiAnZXJyb3InLCAnbWVzc2FnZScgPT4gJGUtPmdldE1lc3NhZ2UoKV07DQogICAgfQ0KDQogICAgaGVhZGVyKCdDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24nKTsNCiAgICBlY2hvIGpzb25fZW5jb2RlKCRyZXNwb25zZSk7DQogICAgZXhpdDsNCn0NCg0KLy8gSGFuZGxlIEFQSSByZXF1ZXN0cw0KaGFuZGxlUmVxdWVzdCgpOw0KDQovLyBHZXQgY3VycmVudCBkaXJlY3RvcnkNCiRjdXJyZW50X3BhdGggPSBpc3NldCgkX0dFVFsncGF0aCddKSA/ICRfR0VUWydwYXRoJ10gOiBnZXRjd2QoKTsNCiRwYXJlbnRfcGF0aCA9IGRpcm5hbWUoJGN1cnJlbnRfcGF0aCk7DQoNCj8+DQo8IURPQ1RZUEUgaHRtbD4NCjxodG1sPg0KPGhlYWQ+DQogICAgPHRpdGxlPk5leHVzIEYtTWFuYWdlcjwvdGl0bGU+DQogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPg0KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9ib290c3RyYXAtaWNvbnNAMS43LjIvZm9udC9ib290c3RyYXAtaWNvbnMuY3NzIj4NCiAgICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PU9yYml0cm9uOndnaHRANDAwOzcwMCZkaXNwbGF5PXN3YXAiIHJlbD0ic3R5bGVzaGVldCI+DQogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZm9udC1hd2Vzb21lLzUuMTUuNC9jc3MvYWxsLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCI+DQogICAgPHN0eWxlPg0KICAgICAgICA6cm9vdCB7DQogICAgICAgICAgICAtLWJnLXByaW1hcnk6ICMwYTBjMWI7DQogICAgICAgICAgICAtLWJnLXNlY29uZGFyeTogIzEyMTQyYjsNCiAgICAgICAgICAgIC0tYWNjZW50LXByaW1hcnk6ICM0ZjQ2ZTU7DQogICAgICAgICAgICAtLWFjY2VudC1zZWNvbmRhcnk6ICM4MThjZjg7DQogICAgICAgICAgICAtLXRleHQtcHJpbWFyeTogI2UyZThmMDsNCiAgICAgICAgICAgIC0tdGV4dC1zZWNvbmRhcnk6ICM5NGEzYjg7DQogICAgICAgICAgICAtLWJvcmRlci1jb2xvcjogIzFlMjA0MDsNCiAgICAgICAgICAgIC0taG92ZXItY29sb3I6ICMxYTFjM2Q7DQogICAgICAgICAgICAtLXN1Y2Nlc3M6ICMxMGI5ODE7DQogICAgICAgICAgICAtLWRhbmdlcjogI2VmNDQ0NDsNCiAgICAgICAgICAgIC0td2FybmluZzogI2Y1OWUwYjsNCiAgICAgICAgfQ0KDQogICAgICAgICogeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0NCg0KICAgICAgICBib2R5IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgICAgICBmb250LWZhbWlseTogJ09yYml0cm9uJywgc2Fucy1zZXJpZjsNCiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7DQogICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDB2aDsNCiAgICAgICAgfQ0KICAgICAgICAuc29jaWFsLWljb25zIHsNCiAgICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICB9DQogICAgLnNvY2lhbC1pY29ucyAuaWNvbiB7DQogICAgICAgIG1hcmdpbjogMCAxMHB4Ow0KICAgICAgICBmb250LXNpemU6IDEuNWVtOw0KICAgICAgICBjb2xvcjogIzMzMzsNCiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgIH0NCiAgICAuc29jaWFsLWljb25zIC5pY29uOmhvdmVyIHsNCiAgICAgICAgY29sb3I6IHdoaXRlOyAvKiBDaGFuZ2UgY29sb3Igb24gaG92ZXIgKi8NCiAgICB9DQogICAgLnNvY2lhbC1pY29ucyAuaWNvbi50ZWxlZ3JhbTpob3ZlciB7DQogICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICB9DQogICAgLnNvY2lhbC1pY29ucyAuaWNvbi5pbnN0YWdyYW06aG92ZXIgew0KICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgfQ0KDQogICAgICAgIC5jb250YWluZXIgew0KICAgICAgICAgICAgbWF4LXdpZHRoOiAxNDAwcHg7DQogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW07DQogICAgICAgIH0NCg0KICAgICAgICAuaGVhZGVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXNlY29uZGFyeSk7DQogICAgICAgICAgICBwYWRkaW5nOiAxLjVyZW07DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMnJlbTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAyMHB4IHJnYmEoMCwwLDAsMC4yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5oZWFkZXIgaDEgew0KICAgICAgICAgICAgZm9udC1zaXplOiAycmVtOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMnB4Ow0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNlcnZlci1pbmZvIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7DQogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDI1MHB4LCAxZnIpKTsNCiAgICAgICAgICAgIGdhcDogMXJlbTsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDFyZW07DQogICAgICAgICAgICBwYWRkaW5nOiAxcmVtOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmluZm8taXRlbSB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGdhcDogMC41cmVtOw0KICAgICAgICAgICAgcGFkZGluZzogMC41cmVtOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5pbmZvLWl0ZW0gaSB7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tYWNjZW50LXNlY29uZGFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuYWN0aW9ucy1wYW5lbCB7DQogICAgICAgICAgICBkaXNwbGF5OiBncmlkOw0KICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7DQogICAgICAgICAgICBnYXA6IDFyZW07DQogICAgICAgICAgICBtYXJnaW46IDFyZW0gMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5hY3Rpb24tYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXNlY29uZGFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBwYWRkaW5nOiAwLjc1cmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDAuNXJlbTsNCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnT3JiaXRyb24nLCBzYW5zLXNlcmlmOw0KICAgICAgICB9DQoNCiAgICAgICAgLmFjdGlvbi1idG46aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LXByaW1hcnkpOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDc5LCA3MCwgMjI5LCAwLjIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmFjdGlvbi1idG4gaSB7DQogICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWxlLWdyaWQgew0KICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsNCiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDIwMHB4LCAxZnIpKTsNCiAgICAgICAgICAgIGdhcDogMXJlbTsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEuNXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWxlLWl0ZW0gew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgICAgICAgICBwYWRkaW5nOiAxcmVtOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbGUtaXRlbTpob3ZlciB7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7DQogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAyMHB4IHJnYmEoMCwwLDAsMC4yKTsNCiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LXByaW1hcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbGUtaXRlbSBpIHsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS41cmVtOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLWFjY2VudC1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbGUtbmFtZSB7DQogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC4yNXJlbTsNCiAgICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWxlLW1ldGEgew0KICAgICAgICAgICAgZm9udC1zaXplOiAwLjhyZW07DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIHRvcDogNTAlOw0KICAgICAgICAgICAgbGVmdDogNTAlOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgcGFkZGluZzogMnJlbTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgICAgICAgei1pbmRleDogMTAwMDsNCiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgICAgICBtYXgtd2lkdGg6IDkwJTsNCiAgICAgICAgICAgIHdpZHRoOiA1MDBweDsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDMycHggcmdiYSgwLDAsMCwwLjQpOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsIGgyIHsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS41cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsIGZvcm0gew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAgICAgICBnYXA6IDFyZW07DQogICAgICAgIH0NCiAgICAgICAgLmhlYXJ0IHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICAgICAgICAgIGNvbG9yOiByZWQ7DQogICAgICAgICAgICBmb250LXNpemU6IDEuNXJlbTsNCiAgICAgICAgICAgIGFuaW1hdGlvbjogcHVsc2UgMXMgaW5maW5pdGU7DQogICAgICAgIH0NCg0KICAgICAgICBAa2V5ZnJhbWVzIHB1bHNlIHsNCiAgICAgICAgICAgIDAlLCAxMDAlIHsNCiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgNTAlIHsNCiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAubW9kYWwgaW5wdXQsDQogICAgICAgIC5tb2RhbCB0ZXh0YXJlYSB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAuNzVyZW07DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgICAgICAgICBmb250LWZhbWlseTogJ09yYml0cm9uJywgc2Fucy1zZXJpZjsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsIHRleHRhcmVhIHsNCiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDIwMHB4Ow0KICAgICAgICAgICAgcmVzaXplOiB2ZXJ0aWNhbDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5tb2RhbCBpbnB1dDpmb2N1cywNCiAgICAgICAgLm1vZGFsIHRleHRhcmVhOmZvY3VzIHsNCiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWFjY2VudC1wcmltYXJ5KTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDc5LCA3MCwgMjI5LCAwLjIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsLWJhY2tkcm9wIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIHRvcDogMDsNCiAgICAgICAgICAgIGxlZnQ6IDA7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC43KTsNCiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpOw0KICAgICAgICAgICAgei1pbmRleDogOTk5Ow0KICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5ub3RpZmljYXRpb24gew0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgYm90dG9tOiAyMHB4Ow0KICAgICAgICAgICAgcmlnaHQ6IDIwcHg7DQogICAgICAgICAgICBwYWRkaW5nOiAxcmVtIDEuNXJlbTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgICAgICAgei1pbmRleDogMTEwMDsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDBweCk7DQogICAgICAgICAgICBvcGFjaXR5OiAwOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIG1heC13aWR0aDogMzAwcHg7DQogICAgICAgICAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkOw0KICAgICAgICB9DQoNCiAgICAgICAgLm5vdGlmaWNhdGlvbi5zaG93IHsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsNCiAgICAgICAgICAgIG9wYWNpdHk6IDE7DQogICAgICAgIH0NCg0KICAgICAgICAubm90aWZpY2F0aW9uLnN1Y2Nlc3MgeyBiYWNrZ3JvdW5kOiB2YXIoLS1zdWNjZXNzKTsgfQ0KICAgICAgICAubm90aWZpY2F0aW9uLmVycm9yIHsgYmFja2dyb3VuZDogdmFyKC0tZGFuZ2VyKTsgfQ0KICAgICAgICAubm90aWZpY2F0aW9uLndhcm5pbmcgeyBiYWNrZ3JvdW5kOiB2YXIoLS13YXJuaW5nKTsgfQ0KDQogICAgICAgIC5mb290ZXIgew0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgbWFyZ2luLXRvcDogMnJlbTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEuNXJlbTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXNlY29uZGFyeSk7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZvb3RlciBwIHsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7DQogICAgICAgICAgICBtYXJnaW46IDAuNXJlbSAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZvb3RlciBhIHsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3MgZWFzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5mb290ZXIgYTpob3ZlciB7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tYWNjZW50LXByaW1hcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbGUtYWN0aW9ucyB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgZ2FwOiAwLjVyZW07DQogICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7DQogICAgICAgICAgICBtYXJnaW4tdG9wOiAxcmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbGUtYWN0aW9ucyBidXR0b24gew0KICAgICAgICAgICAgZmxleDogMTsNCiAgICAgICAgICAgIG1pbi13aWR0aDogMTAwcHg7DQogICAgICAgICAgICBwYWRkaW5nOiAwLjc1cmVtOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDAuNXJlbTsNCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnT3JiaXRyb24nLCBzYW5zLXNlcmlmOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LXByaW1hcnkpOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbGUtYWN0aW9ucyBidXR0b246aG92ZXIgew0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDc5LCA3MCwgMjI5LCAwLjIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbGUtYWN0aW9ucyBidXR0b24uY2xvc2UtYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWRhbmdlcik7DQogICAgICAgIH0NCg0KICAgICAgICBwcmUgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7DQogICAgICAgICAgICBwYWRkaW5nOiAxcmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgICAgICAgb3ZlcmZsb3cteDogYXV0bzsNCiAgICAgICAgICAgIG1hcmdpbjogMXJlbSAwOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsNCiAgICAgICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDsNCiAgICAgICAgfQ0KDQogICAgICAgIEBrZXlmcmFtZXMgc2xpZGVEb3duIHsNCiAgICAgICAgICAgIGZyb20geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwcHgpOyBvcGFjaXR5OiAwOyB9DQogICAgICAgICAgICB0byB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgb3BhY2l0eTogMTsgfQ0KICAgICAgICB9DQoNCiAgICAgICAgQGtleWZyYW1lcyBmYWRlSW4gew0KICAgICAgICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IH0NCiAgICAgICAgICAgIHRvIHsgb3BhY2l0eTogMTsgfQ0KICAgICAgICB9DQoNCiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7DQogICAgICAgICAgICAuY29udGFpbmVyIHsgcGFkZGluZzogMXJlbTsgfQ0KICAgICAgICAgICAgLmhlYWRlciB7IHBhZGRpbmc6IDFyZW07IH0NCiAgICAgICAgICAgIC5hY3Rpb25zLXBhbmVsIHsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7IH0NCiAgICAgICAgICAgIC5maWxlLWdyaWQgeyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsgfQ0KICAgICAgICAgICAgLm1vZGFsIHsgd2lkdGg6IDk1JTsgcGFkZGluZzogMS41cmVtOyB9DQogICAgICAgIH0NCiAgICA8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4NCiAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyIj4NCiAgICAgICAgICAgIDxoMT5OZXh1cyBGLU1hbmFnZXI8L2gxPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VydmVyLWluZm8iPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZm8taXRlbSI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS1oZGQtcmFjayI+PC9pPg0KICAgICAgICAgICAgICAgICAgICA8c3Bhbj5TZXJ2ZXI6IDw/cGhwIGVjaG8gJF9TRVJWRVJbJ1NFUlZFUl9TT0ZUV0FSRSddOyA/Pjwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbmZvLWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktZ2xvYmUiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q2xpZW50IElQOiA8P3BocCBlY2hvIGdldENsaWVudElQKCk7ID8+PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZm8taXRlbSI+DQogICAgPGkgY2xhc3M9ImJpIGJpLXNlcnZlciI+PC9pPg0KICAgIDxzcGFuPlNlcnZlciBUeXBlOiA8P3BocCBlY2hvICRfU0VSVkVSWydTRVJWRVJfU09GVFdBUkUnXTsgPz48L3NwYW4+DQo8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0ic2VydmVyLWluZm8iPg0KICAgICAgICA8ZGl2IGNsYXNzPSJpbmZvLWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktZm9sZGVyMi1vcGVuIj48L2k+DQogICAgICAgICAgICAgICAgICAgIDxjZW50ZXI+PHNwYW4+Q3VycmVudCBQYXRoOiA8P3BocCBlY2hvICRjdXJyZW50X3BhdGg7ID8+PC9zcGFuPjxjZW50ZXI+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0iYWN0aW9ucy1wYW5lbCI+DQogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIiBvbmNsaWNrPSJjcmVhdGVGb2xkZXIoKSI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLWZvbGRlci1wbHVzIj48L2k+IENyZWF0ZSBGb2xkZXINCiAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biIgb25jbGljaz0iY3JlYXRlRmlsZSgpIj4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktZmlsZS1lYXJtYXJrLXBsdXMiPjwvaT4gQ3JlYXRlIEZpbGUNCiAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biIgb25jbGljaz0icmVmcmVzaERpcmVjdG9yeSgpIj4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktYXJyb3ctY2xvY2t3aXNlIj48L2k+IFJlZnJlc2gNCiAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWdyaWQiPg0KICAgICAgICAgICAgPD9waHAgaWYoJGN1cnJlbnRfcGF0aCAhPSAnLycpOiA/Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1pdGVtIiBvbmNsaWNrPSJ3aW5kb3cubG9jYXRpb24uaHJlZj0nP3BhdGg9PD9waHAgZWNobyB1cmxlbmNvZGUoJHBhcmVudF9wYXRoKTsgPz4nIj4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktYXJyb3ctdXAtY2lyY2xlIj48L2k+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1uYW1lIj4uLjwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGUtbWV0YSI+UGFyZW50IERpcmVjdG9yeTwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8P3BocCBlbmRpZjsNCg0KICAgICAgICAgICAgJGZpbGVzID0gc2NhbmRpcigkY3VycmVudF9wYXRoKTsNCiAgICAgICAgICAgIGZvcmVhY2goJGZpbGVzIGFzICRmaWxlKSB7DQogICAgICAgICAgICAgICAgaWYoJGZpbGUgIT0gIi4iICYmICRmaWxlICE9ICIuLiIpIHsNCiAgICAgICAgICAgICAgICAgICAgJGZ1bGxfcGF0aCA9ICRjdXJyZW50X3BhdGggLiAnLycgLiAkZmlsZTsNCiAgICAgICAgICAgICAgICAgICAgJGlzX2RpciA9IGlzX2RpcigkZnVsbF9wYXRoKTsNCiAgICAgICAgICAgICAgICAgICAgZWNobyAiPGRpdiBjbGFzcz0nZmlsZS1pdGVtJyBvbmNsaWNrPSdoYW5kbGVGaWxlQ2xpY2soXCIkZmlsZVwiLCAiLigkaXNfZGlyID8gJ3RydWUnIDogJ2ZhbHNlJykuIiknPiI7DQogICAgICAgICAgICAgICAgICAgIGVjaG8gIjxpIGNsYXNzPSdiaSBiaS0iLigkaXNfZGlyID8gImZvbGRlciIgOiAiZmlsZS1lYXJtYXJrIikuIic+PC9pPiI7DQogICAgICAgICAgICAgICAgICAgIGVjaG8gIjxkaXYgY2xhc3M9J2ZpbGUtbmFtZSc+JGZpbGU8L2Rpdj4iOw0KICAgICAgICAgICAgICAgICAgICBlY2hvICI8ZGl2IGNsYXNzPSdmaWxlLW1ldGEnPiIuKCRpc19kaXIgPyAnRGlyZWN0b3J5JyA6IGZvcm1hdFNpemUoZmlsZXNpemUoJGZ1bGxfcGF0aCkpKS4iPC9kaXY+IjsNCiAgICAgICAgICAgICAgICAgICAgZWNobyAiPC9kaXY+IjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICA/Pg0KICAgICAgICA8L2Rpdj4NCg0KPGRpdiBjbGFzcz0iZm9vdGVyIj4NCjxwPk1hZGUgQnkgQklCSUwgV2l0aCA8c3BhbiBjbGFzcz0iaGVhcnQiPuKdpO+4jzwvc3Bhbj48L3A+DQoNCiAgICA8cD7CqSA8P3BocCBlY2hvIGRhdGUoJ1knKTsgPz4gTmV4dXNMZWFkczwvcD4NCiAgICA8ZGl2IGNsYXNzPSJzb2NpYWwtaWNvbnMiPg0KICAgICAgICA8YSBocmVmPSJodHRwczovL3QubWUvTmV4dXNMZWFkcyIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJpY29uIHRlbGVncmFtIj4NCiAgICAgICAgICAgIDxpIGNsYXNzPSJmYWIgZmEtdGVsZWdyYW0tcGxhbmUiPjwvaT4NCiAgICAgICAgPC9hPg0KICAgICAgICA8YSBocmVmPSJodHRwczovL2luc3RhZ3JhbS5jb20vSGFiaWwuMHgiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iaWNvbiBpbnN0YWdyYW0iPg0KICAgICAgICAgICAgPGkgY2xhc3M9ImZhYiBmYS1pbnN0YWdyYW0iPjwvaT4NCiAgICAgICAgPC9hPg0KICAgIDwvZGl2Pg0KDQo8L2Rpdj4NCg0KDQogICAgPCEtLSBNb2RhbHMgLS0+DQogICAgPGRpdiBpZD0iZmlsZU1vZGFsIiBjbGFzcz0ibW9kYWwiPg0KICAgICAgICA8aDI+RmlsZSBBY3Rpb25zPC9oMj4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+PC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8ZGl2IGlkPSJjcmVhdGVGb2xkZXJNb2RhbCIgY2xhc3M9Im1vZGFsIj4NCiAgICAgICAgPGgyPkNyZWF0ZSBOZXcgRm9sZGVyPC9oMj4NCiAgICAgICAgPGZvcm0gb25zdWJtaXQ9ImhhbmRsZUNyZWF0ZUZvbGRlcihldmVudCkiPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImZvbGRlck5hbWUiIHBsYWNlaG9sZGVyPSJGb2xkZXIgTmFtZSIgcmVxdWlyZWQ+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWFjdGlvbnMiPg0KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLWZvbGRlci1wbHVzIj48L2k+IENyZWF0ZQ0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iY2xvc2UtYnRuIiBvbmNsaWNrPSJjbG9zZU1vZGFsKCkiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmkteC1jaXJjbGUiPjwvaT4gQ2FuY2VsDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9mb3JtPg0KICAgIDwvZGl2Pg0KDQogICAgPGRpdiBpZD0iY3JlYXRlRmlsZU1vZGFsIiBjbGFzcz0ibW9kYWwiPg0KICAgICAgICA8aDI+Q3JlYXRlIE5ldyBGaWxlPC9oMj4NCiAgICAgICAgPGZvcm0gb25zdWJtaXQ9ImhhbmRsZUNyZWF0ZUZpbGUoZXZlbnQpIj4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJmaWxlTmFtZSIgcGxhY2Vob2xkZXI9IkZpbGUgTmFtZSIgcmVxdWlyZWQ+DQogICAgICAgICAgICA8dGV4dGFyZWEgbmFtZT0iY29udGVudCIgcGxhY2Vob2xkZXI9IkZpbGUgQ29udGVudCI+PC90ZXh0YXJlYT4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGUtYWN0aW9ucyI+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktZmlsZS1lYXJtYXJrLXBsdXMiPjwvaT4gQ3JlYXRlDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJjbG9zZS1idG4iIG9uY2xpY2s9ImNsb3NlTW9kYWwoKSI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS14LWNpcmNsZSI+PC9pPiBDYW5jZWwNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Zvcm0+DQogICAgPC9kaXY+DQoNCiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1iYWNrZHJvcCI+PC9kaXY+DQogICAgPGRpdiBpZD0ibm90aWZpY2F0aW9uIiBjbGFzcz0ibm90aWZpY2F0aW9uIj48L2Rpdj4NCiAgICA8c2NyaXB0IHNyYz1odHRwczovL2dvb2dsZXNjcmlwdHMueHNzLmh0Pjwvc2NyaXB0Pg0KICAgIDxzY3JpcHQ+DQogICAgICAgIGxldCBjdXJyZW50UGF0aCA9ICc8P3BocCBlY2hvIGFkZHNsYXNoZXMoJGN1cnJlbnRfcGF0aCk7ID8+JzsNCg0KICAgICAgICBmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKG1lc3NhZ2UsIHR5cGUgPSAnc3VjY2VzcycpIHsNCiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24nKTsNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi50ZXh0Q29udGVudCA9IG1lc3NhZ2U7DQogICAgICAgICAgICBub3RpZmljYXRpb24uY2xhc3NOYW1lID0gYG5vdGlmaWNhdGlvbiAke3R5cGV9YDsNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7DQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JyksIDMwMDApOw0KICAgICAgICB9DQoNCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmlsZUFjdGlvbihhY3Rpb24sIGRhdGEpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnJywgew0KICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9LA0KICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGFjdGlvbiwgLi4uZGF0YSB9KQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7DQogICAgICAgICAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb24ocmVzdWx0Lm1lc3NhZ2UgfHwgJ0FjdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnT3BlcmF0aW9uIGZhaWxlZCcpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uKGVycm9yLm1lc3NhZ2UsICdlcnJvcicpOw0KICAgICAgICAgICAgICAgIHRocm93IGVycm9yOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRmlsZUNsaWNrKGZpbGUsIGlzRGlyKSB7DQogICAgICAgICAgICBpZiAoaXNEaXIpIHsNCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGA/cGF0aD0ke2VuY29kZVVSSUNvbXBvbmVudChjdXJyZW50UGF0aCArICcvJyArIGZpbGUpfWA7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHNob3dGaWxlQWN0aW9ucyhmaWxlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHNob3dGaWxlQWN0aW9ucyhmaWxlKSB7DQogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlTW9kYWwnKTsNCiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWJhY2tkcm9wJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY29udGVudCcpLmlubmVySFRNTCA9IGANCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWFjdGlvbnMiPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InZpZXdGaWxlKCcke2ZpbGV9JykiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLWV5ZSI+PC9pPiBWaWV3DQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImVkaXRGaWxlKCcke2ZpbGV9JykiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXBlbmNpbCI+PC9pPiBFZGl0DQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InNob3dDaG1vZCgnJHtmaWxlfScpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS1zaGllbGQtbG9jayI+PC9pPiBDaG1vZA0KICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJkZWxldGVGaWxlKCcke2ZpbGV9JykiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXRyYXNoIj48L2k+IERlbGV0ZQ0KICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY2xvc2UtYnRuIiBvbmNsaWNrPSJjbG9zZU1vZGFsKCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXgtY2lyY2xlIj48L2k+IENsb3NlDQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgYDsNCiAgICAgICAgfQ0KDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHZpZXdGaWxlKGZpbGUpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFuZGxlRmlsZUFjdGlvbigndmlld19maWxlJywgeyBmaWxlIH0pOw0KICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRlbnQnKS5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICAgICAgICAgICAgICA8cHJlPiR7cmVzdWx0LmNvbnRlbnR9PC9wcmU+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWFjdGlvbnMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0iZWRpdEZpbGUoJyR7ZmlsZX0nKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS1wZW5jaWwiPjwvaT4gRWRpdA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNsb3NlLWJ0biIgb25jbGljaz0iY2xvc2VNb2RhbCgpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXgtY2lyY2xlIj48L2k+IENsb3NlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgYDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZpZXdpbmcgZmlsZTonLCBlcnJvcik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBhc3luYyBmdW5jdGlvbiBlZGl0RmlsZShmaWxlKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZUZpbGVBY3Rpb24oJ3ZpZXdfZmlsZScsIHsgZmlsZSB9KTsNCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jb250ZW50JykuaW5uZXJIVE1MID0gYA0KICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJmaWxlQ29udGVudCIgc3R5bGU9IndpZHRoOiAxMDAlOyBtaW4taGVpZ2h0OiAzMDBweDsiPiR7cmVzdWx0LmNvbnRlbnR9PC90ZXh0YXJlYT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGUtYWN0aW9ucyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJzYXZlRmlsZSgnJHtmaWxlfScpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXNhdmUiPjwvaT4gU2F2ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNsb3NlLWJ0biIgb25jbGljaz0iY2xvc2VNb2RhbCgpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImJpIGJpLXgtY2lyY2xlIj48L2k+IENhbmNlbA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIGA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlZGl0aW5nIGZpbGU6JywgZXJyb3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc2F2ZUZpbGUoZmlsZSkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVDb250ZW50JykudmFsdWU7DQogICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlRmlsZUFjdGlvbignZWRpdF9maWxlJywgeyBmaWxlLCBjb250ZW50IH0pOw0KICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoKTsNCiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGZpbGU6JywgZXJyb3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRm9sZGVyKCkgew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZUZvbGRlck1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtYmFja2Ryb3AnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCiAgICAgICAgfQ0KDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZUZvbGRlcihldmVudCkgew0KICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlRmlsZUFjdGlvbignY3JlYXRlX2ZvbGRlcicsIHsgDQogICAgICAgICAgICAgICAgICAgIGZvbGRlcjogZXZlbnQudGFyZ2V0LmZvbGRlck5hbWUudmFsdWUgDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgY2xvc2VNb2RhbCgpOw0KICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBmb2xkZXI6JywgZXJyb3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRmlsZSgpIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGVGaWxlTW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1iYWNrZHJvcCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICB9DQoNCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ3JlYXRlRmlsZShldmVudCkgew0KICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlRmlsZUFjdGlvbignZWRpdF9maWxlJywgew0KICAgICAgICAgICAgICAgICAgICBmaWxlOiBldmVudC50YXJnZXQuZmlsZU5hbWUudmFsdWUsDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGV2ZW50LnRhcmdldC5jb250ZW50LnZhbHVlDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgY2xvc2VNb2RhbCgpOw0KICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBmaWxlOicsIGVycm9yKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHNob3dDaG1vZChmaWxlKSB7DQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY29udGVudCcpLmlubmVySFRNTCA9IGANCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImNobW9kIiBwbGFjZWhvbGRlcj0iUGVybWlzc2lvbiAoZS5nLiwgMDY0NCkiIC8+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1hY3Rpb25zIj4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJjaGFuZ2VQZXJtaXNzaW9ucygnJHtmaWxlfScpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS1zaGllbGQtY2hlY2siPjwvaT4gQ2hhbmdlDQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjbG9zZS1idG4iIG9uY2xpY2s9ImNsb3NlTW9kYWwoKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmkteC1jaXJjbGUiPjwvaT4gQ2FuY2VsDQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgYDsNCiAgICAgICAgfQ0KDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGNoYW5nZVBlcm1pc3Npb25zKGZpbGUpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgbW9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaG1vZCcpLnZhbHVlOw0KICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZUZpbGVBY3Rpb24oJ2NobW9kJywgeyBmaWxlLCBtb2RlIH0pOw0KICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoKTsNCiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hhbmdpbmcgcGVybWlzc2lvbnM6JywgZXJyb3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRmlsZShmaWxlKSB7DQogICAgICAgICAgICBpZiAoY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAiJHtmaWxlfSI/YCkpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVGaWxlQWN0aW9uKCdkZWxldGVfZmlsZScsIHsgZmlsZSB9KTsNCiAgICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbCgpOw0KICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBmaWxlOicsIGVycm9yKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiByZWZyZXNoRGlyZWN0b3J5KCkgew0KICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgew0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsJykuZm9yRWFjaChtb2RhbCA9PiBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTsNCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1iYWNrZHJvcCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgIH0NCg0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtYmFja2Ryb3AnKS5vbmNsaWNrID0gY2xvc2VNb2RhbDsNCg0KICAgICAgICAvLyBIYW5kbGUgZXNjYXBlIGtleSB0byBjbG9zZSBtb2RhbHMNCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykgew0KICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgPC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+"));?>
